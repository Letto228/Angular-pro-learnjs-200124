# Декораторы для получения сущностей из View в классе

## @ViewChild and @ContentChild

`@ViewChild` - используется для получения сущности из собственного View компонента.

> [!NOTE]
>
> Что такое **контент**? - это то, что передается между тэгами host element компонента или директивы

`@ContentChild` - используется для получения сущности из View переданного родителем, то есть для получения сущностей из контента.

|                                  | @ViewChild           | @ContentChild                                                                                                              |
|----------------------------------|----------------------|----------------------------------------------------------------------------------------------------------------------------|
| Откуда запрашивает узел          | Из собственного View | Из контента переданного родителем                                                                                          |
| Когда доступен не статичный узел | AfterViewInit        | AfterContentInit                                                                                                           |
| Доп свойства                     | -                    | `descendants: boolean` - позволяет указать, как осуществляется поиск: среди всех узлов контента или только прямых дочерних |

Общие конфигурации (`@...Child(selector, {read, static})`):

1. `selector` - используется для поиска необхоимого View в той области, где осуществляется поиск.

    Возможные значения:

    - Шаблонная переменная

    - Любой класс с декораторами `Component`/`Directive`

    - Токен сущности подключенной через `providers` компонентов и директив использующихся в данном компоненте

    - `TempalteRef`

2. Options: `read` - по `selector` осуществляет поиск View, а при помощи параметра `read` можно четко указать - что нужно получить из View. По дефолту получаем ровно то, что запросили в селекторе

    Возможные значения:

    1. Любой класс с декораторами `Component`/`Directive`

    2. Токен сущности подключенной через `providers` компонентов и директив использующихся в данном компоненте

    3. `TemplateRef`, `ElementRef`, и `ViewContainerRef`

3. Options: `static` - уточняет поведение View и меняет логику ее получения через декоратор.

    - `false` - говорит о том, что View - динамическое, т.е. его наличие в искомом View зависит от какого-то условия (например: структурная директива)

        Декоратор обновляет значение свойства в зависимости от появления/удаления View.

        View становится доступным только после вычисления привязок.

    - `true` - говорит о том, что View - статичное, т.е. его наличие в искомом view не зависит от какого-то условия - оно либо есть, либо его нет.

        Декоратор не обновляет значения свойства.

        View становится доступным уже на старте компонента.

## @ViewChildren and @ContentChildren

`@...Children` очень похожи на `@...Child` - поиск осуществляет в тех же областях, но есть пару нюансов:

1. Данные декораторы находят все узлы подходящие по селектору, а не первое совпадение как `@ViewChild`

2. Возвращают список `QueryList`, через который можно отслеживать динамическое изменение наличия View в шаблоне.

3. Не статичный. В связи с этим отсутсвует и свойство `static`
